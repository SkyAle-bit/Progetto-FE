<div class="home-page">
    <!-- Sfondo animato -->
    <div class="bg-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <!-- Navbar -->
    <header class="home-header">
        <div class="brand">
            <div class="brand-icon">âœ§</div>
            <h1 class="brand-name">Naval Gold</h1>
        </div>
        <div class="auth-buttons">
            <a routerLink="/login" class="btn-outline">Accedi</a>
            <a routerLink="/register" class="btn-primary">Registrati</a>
        </div>
    </header>

    <!-- Hero Section -->
    <main class="hero-section">
        <div class="hero-content">
            <h2 class="hero-title">Eleva il tuo standard di benessere</h2>
            <p class="hero-subtitle">
                Unisciti a Naval Gold e scopri un nuovo modo di vivere la tua forma fisica e nutrizione,
                guidato dai migliori professionisti del settore in un'esperienza esclusiva.
            </p>

            <div class="hero-cta">
                <a routerLink="/register" class="btn-primary btn-large">
                    Inizia il tuo percorso <span class="btn-arrow">â†’</span>
                </a>
            </div>

            <div class="hero-stats">
                <div class="stat-item">
                    <span class="stat-number">50+</span>
                    <span class="stat-label">Professionisti Qualificati</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <span class="stat-number">10k+</span>
                    <span class="stat-label">Risultati Raggiunti</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <span class="stat-number">4.9/5</span>
                    <span class="stat-label">Recensioni degli Utenti</span>
                </div>
            </div>
        </div>

        <!-- Features / Benefits -->
        <div class="features-grid">
            <div class="feature-card glass-card">
                <div class="feature-icon">ðŸ’ª</div>
                <h3 class="feature-title">Personal Trainer Dedicati</h3>
                <p class="feature-desc">Allenamenti su misura creati dai migliori esperti per farti raggiungere i tuoi
                    obiettivi in modo rapido ed efficace.</p>
            </div>

            <div class="feature-card glass-card">
                <div class="feature-icon">ðŸ¥—</div>
                <h3 class="feature-title">Piani Nutrizionali</h3>
                <p class="feature-desc">Dieta personalizzata per massimizzare i tuoi risultati, migliorare la tua salute
                    e darti l'energia di cui hai bisogno.</p>
            </div>

            <div class="feature-card glass-card">
                <div class="feature-icon">âœ¨</div>
                <h3 class="feature-title">Esperienza Premium</h3>
                <p class="feature-desc">Prenota le tue sessioni, monitora i progressi e interagisci con il tuo team in
                    un'unica piattaforma esclusiva.</p>
            </div>
        </div>
    </main>

    <!-- Pricing Section -->
    <section class="pricing-section" id="pricing">
        <div class="pricing-header">
            <h2 class="section-title">Scegli il livello del tuo successo</h2>
            <p class="section-subtitle">Piani trasparenti pensati per portarti esattamente dove vuoi arrivare.</p>

            <!-- Toggle Mensile / Annuale -->
            <div class="billing-toggle">
                <span class="toggle-label" [class.active]="!isAnnual" (click)="toggleBilling(false)">Mensile</span>
                <button class="toggle-switch" [class.on]="isAnnual" (click)="toggleBilling(!isAnnual)">
                    <span class="toggle-knob"></span>
                </button>
                <span class="toggle-label" [class.active]="isAnnual" (click)="toggleBilling(true)">
                    Annuale <span class="discount-badge">Save 20%</span>
                </span>
            </div>
        </div>

        <!-- Piani -->
        <div class="pricing-grid">
            <!-- Generazione dinamica dei piani dal DB -->
            <div class="pricing-card glass-card" *ngFor="let plan of plans; let i = index" [class.popular]="i === 1">
                <!-- Highlight piano intermedio -->

                <div class="popular-badge" *ngIf="i === 1">Most Popular</div>

                <div class="pc-header">
                    <h3 class="pc-name">{{ plan.name }}</h3>
                    <p class="pc-desc">Ideale per chi vuole iniziare con il piede giusto</p>
                </div>

                <div class="pc-price-block">
                    <div class="pc-price">
                        <span class="currency">â‚¬</span>
                        <span class="amount">{{ getDisplayPrice(plan) | number:'1.0-2' }}</span>
                        <span class="period">/mese</span>
                    </div>
                    <p class="pc-billing-text" *ngIf="isAnnual">Fatturato annualmente (â‚¬{{ plan.fullPrice * 0.8 |
                        number:'1.0-2' }}/anno)</p>
                    <p class="pc-billing-text" *ngIf="!isAnnual">Nessun vincolo a lungo termine</p>
                </div>

                <button class="btn-primary pc-cta" [class.btn-outline]="i !== 1" (click)="goToRegister(plan.id)">
                    Inizia Ora <span *ngIf="i === 1" class="btn-arrow">â†’</span>
                </button>

                <div class="pc-features">
                    <div class="feature-item">
                        <div class="feature-check">âœ“</div>
                        <span>Scheda Allenamento Mensile</span>
                    </div>
                    <div class="feature-item">
                        <div class="feature-check">âœ“</div>
                        <span>Piano Alimentare (+ aggiornamenti)</span>
                    </div>
                    <div class="feature-item">
                        <div class="feature-check">âœ“</div>
                        <span>Chat con i Professionisti</span>
                    </div>
                    <div class="feature-item">
                        <div class="feature-check">âœ“</div>
                        <span *ngIf="i === 0"><strong>2</strong> Crediti Mensili</span>
                        <span *ngIf="i === 1"><strong>4</strong> Crediti Mensili</span>
                        <span *ngIf="i === 2"><strong>8</strong> Crediti Mensili</span>
                        <span *ngIf="i === 3"><strong>Illimitati</strong> Crediti</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>